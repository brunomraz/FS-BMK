<Window x:Class="FS_BMK_ui.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:FS_BMK_ui.ViewModels"
        xmlns:intboolconverter="clr-namespace:FS_BMK_ui.Converters"
        
        mc:Ignorable="d"
        Title="FS BMK" Height="1500" Width="2000"
        Loaded="Window_Loaded"
        Background="DarkGray">

    <Window.Resources>
        <vm:OptimizationSuspensionViewModel x:Key="OptimizationSuspensionVM"/>
        <vm:CurrentSuspensionViewModel x:Key="CurrentSuspensionVM"/>
        <intboolconverter:RadioButtonPositionConverter x:Key="IntBoolConverter"/>
        <Style x:Key="ReadOnlyTextBoxStyle" 
               TargetType="{x:Type TextBox}">
            <Setter Property="IsReadOnly"
                    Value="True" />
            <Setter Property="Background"
                    Value="LightGray" />
            <Setter Property="Width"
                    Value="50"/>
            <Setter Property="Margin"
                    Value="0,0,0,5"/>
            <Setter Property="HorizontalAlignment"
                    Value="Left"/>
            <Setter Property="BorderBrush"
                    Value="Black"/>
            <Setter Property="BorderThickness"
                    Value="1"/>
        </Style>
        <Style x:Key="NormalTextBoxStyle" 
               TargetType="{x:Type TextBox}">
            <Setter Property="Width"
                    Value="50"/>
            <Setter Property="Margin"
                    Value="0,0,0,5"/>
            <Setter Property="HorizontalAlignment"
                    Value="Left"/>
            <Setter Property="BorderBrush"
                    Value="Black"/>
            <Setter Property="BorderThickness"
                    Value="1"/>
        </Style>
        <Style x:Key="OptimisationGrid"  TargetType="Grid">
            
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <Border Grid.Row="0" BorderThickness=" 3">
            <Grid  Margin="7,0,7,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition MaxWidth="420" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <!-- Optimisation suspension parameters-->
                <ScrollViewer DataContext="{StaticResource OptimizationSuspensionVM}" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Visible">
                    <Grid Grid.Column="0" Width="400">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <!-- Suspension optimisation hardpoint limits -->
                        <DataGrid Grid.Row="0" ItemsSource="{Binding OptimizationSuspension.Hardpoints}" 
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  CanUserReorderColumns="False"
                                  ColumnWidth="*"
                                  CanUserResizeRows="False"
                                  CanUserResizeColumns="False"
                                  CanUserSortColumns="False">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="X low" Binding="{Binding XValLow}"/>
                                <!-- LCA1 LCA2 UCA1 UCA2 WCN and SPN X values disabled-->
                                <DataGridTextColumn Header="X high" Binding="{Binding XValHigh}">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding XIsEditable}" Value="false">
                                                    <Setter Property="IsEnabled" Value="false"/>
                                                    <Setter Property="Background" Value="LightGray"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="Y low" Binding="{Binding YValLow}"/>
                                <!-- WCN and SPN Y values disabled-->
                                <DataGridTextColumn Header="Y high" Binding="{Binding YValHigh}">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding YIsEditable}" Value="false">
                                                    <Setter Property="IsEnabled" Value="false"/>
                                                    <Setter Property="Background" Value="LightGray"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="Z low" Binding="{Binding ZValLow}"/>
                                <!-- WCN and SPN Z values disabled-->
                                <DataGridTextColumn Header="Z high" Binding="{Binding ZValHigh}">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ZIsEditable}" Value="false">
                                                    <Setter Property="IsEnabled" Value="false"/>
                                                    <Setter Property="Background" Value="LightGray"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                            <DataGrid.RowHeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding DataContext.HardpointNameClass, Mode=OneWay,
                            RelativeSource={RelativeSource AncestorType=DataGridRow}}"></TextBlock>
                                </DataTemplate>
                            </DataGrid.RowHeaderTemplate>
                        </DataGrid>
                        <!-- Brief description -->
                        <TextBlock Margin=" 5"
                                   Grid.Row="1" 
                                   TextWrapping="Wrap"
                                   Text="Low position is wheel moved down w.r.t. chassis and vice versa, angles are in degrees or distances in mm."/>
                        <!-- Other parameters for suspension optimization -->
                        <StackPanel Grid.Row="2" Margin="0,5,0,5">

                            <!-- Camber angle down and up limits-->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="4" Grid.Row="0" Grid.Column="0" Text="Camber down and up position"/>
                                <TextBox HorizontalAlignment="Left" Grid.Row="1" Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[0]}" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox HorizontalAlignment="Left" Grid.Row="1" Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[1]}" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Toe angle down and up limits-->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Toe down position"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="2" Text="Toe up position"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[2]}"  Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[3]}"  Grid.Row="1" Grid.Column="1"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[4]}"  Grid.Row="1" Grid.Column="2"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[5]}"  Grid.Row="1" Grid.Column="3"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Caster angle RC height limits-->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Caster angle"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="2" Text="Roll Centre height"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[6]}"  Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[7]}"  Grid.Row="1" Grid.Column="1"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[8]}"  Grid.Row="1" Grid.Column="2"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[9]}"  Grid.Row="1" Grid.Column="3"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Caster trail scrub radius limits-->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Caster trail"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="2" Text="Scrub radius"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[10]}"  Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[11]}"  Grid.Row="1" Grid.Column="1"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[12]}"  Grid.Row="1" Grid.Column="2"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[13]}"  Grid.Row="1" Grid.Column="3"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Kingpin angle -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Kingpin angle"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[14]}" Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[15]}" Grid.Row="1" Grid.Column="1"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- anti dive and anti brake -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Anti drive"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="2" Text="Anti brake"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[16]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[17]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[18]}" Grid.Row="1" Grid.Column="2" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[19]}" Grid.Row="1" Grid.Column="3" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Half track change down  and up pos  -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="4" Grid.Row="0" Grid.Column="0" Text="Half track change down and up position"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[20]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[21]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[22]}" Grid.Row="1" Grid.Column="2" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[23]}" Grid.Row="1" Grid.Column="3" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Wheelbase change down  and up pos  -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="4" Grid.Row="0" Grid.Column="0" Text="Wheelbase change down and up position"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[24]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[25]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[26]}" Grid.Row="1" Grid.Column="2" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[27]}" Grid.Row="1" Grid.Column="3" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- LCA3 inside wheel free radius  -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="LCA3 inside wheel free radius"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[28]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[29]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- UCA3 inside wheel free radius  -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="UCA3 inside wheel free radius"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[30]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[31]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- TR2 inside wheel free radius   -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="TR2 inside wheel free radius"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[32]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[33]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- LCA3 distance to WCN, along WCN-SPN axis   -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="4" Grid.Row="0" Grid.Column="0" Text="LCA3 distance to WCN, along WCN-SPN axis"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[34]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[35]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- UCA3 distance to WCN, along WCN-SPN axis   -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="4" Grid.Row="0" Grid.Column="0" Text="UCA3 distance to WCN, along WCN-SPN axis"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[36]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[37]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- TR2 distance to WCN, along WCN-SPN axis   -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="4" Grid.Row="0" Grid.Column="0" Text="TR2 distance to WCN, along WCN-SPN axis"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[38]}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.SuspensionFeatureLimits[39]}" Grid.Row="1" Grid.Column="1" Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Suspension position -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Suspension position"/>
                                <RadioButton GroupName="OptimizationSuspPosition" Grid.ColumnSpan="2" Grid.Row="1" Grid.Column="0" Content="Front"
                                             IsChecked="{Binding OptimizationSuspension.SuspensionPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=0}"/>
                                <RadioButton GroupName="OptimizationSuspPosition" Grid.ColumnSpan="2" Grid.Row="1" Grid.Column="1" Content="Rear"
                                             IsChecked="{Binding OptimizationSuspension.SuspensionPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=1}" />
                            </Grid>
                            <!-- Wheel radius wheelbase and Cog height -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Wheel radius"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="2" Text="Wheelbase"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="4" Text="CoG height"/>
                                <TextBox Text="{Binding OptimizationSuspension.WheelRadius}" Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.Wheelbase}" Grid.Row="1" Grid.Column="2"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.CoGHeight}" Grid.Row="1" Grid.Column="4"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Front and rear drive bias -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Front Drive Bias"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="2" Text="Rear Drive Bias"/>
                                <TextBox Text="{Binding OptimizationSuspension.FrontDriveBias}" Grid.Row="1" Grid.Column="0" Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.RearDriveBias}" Grid.Row="1" Grid.Column="2"  Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            </Grid>
                            <!-- drive position -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Drive Position"/>
                                <RadioButton GroupName="OptimizationSuspDrivePos" Grid.ColumnSpan="2" Grid.Row="1" Grid.Column="0" Content="Inboard"
                                             IsChecked="{Binding OptimizationSuspension.DrivePos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=1}"/>
                                <RadioButton GroupName="OptimizationSuspDrivePos" Grid.ColumnSpan="2" Grid.Row="1" Grid.Column="1" Content="Outboard"
                                             IsChecked="{Binding OptimizationSuspension.DrivePos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=0}"/>
                            </Grid>
                            <!-- Front and rear brake bias -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="30"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Front Brake Bias"/>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="2" Text="Rear Brake Bias"/>
                                <TextBox Text="{Binding OptimizationSuspension.FrontBrakeBias}" Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <TextBox Text="{Binding OptimizationSuspension.RearBrakeBias}" Grid.Row="1" Grid.Column="2"  Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            </Grid>
                            <!-- brakes position -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="0" Text="Brakes Position"/>
                                <RadioButton GroupName="OptimizationSuspBrakePos" Grid.ColumnSpan="2" Grid.Row="1" Grid.Column="0" Content="Inboard"
                                             IsChecked="{Binding OptimizationSuspension.BrakesPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=1}"/>
                                <RadioButton GroupName="OptimizationSuspBrakePos" Grid.ColumnSpan="2" Grid.Row="1" Grid.Column="1" Content="Outboard"
                                             IsChecked="{Binding OptimizationSuspension.BrakesPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=0}"/>
                            </Grid>
                            <!-- Vertical movement from reference position -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="6" Grid.Row="0" Grid.Column="0" Text="Vertical movement from reference position"/>
                                <TextBox Text="{Binding OptimizationSuspension.VerticalMovement}" Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- Objective function peak width parameter -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="6" Grid.Row="0" Grid.Column="0" Text="Objective function peak width parameter"/>
                                <TextBox Text="{Binding OptimizationSuspension.ObjFunctionPeakWidth}" Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>

                            <!-- number of processes to use -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="6" Grid.Row="0" Grid.Column="0" Text="Number of cores to use for optimisation"/>
                                <TextBox Text="{Binding OptimizationSuspension.CoreNum}" Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                            </Grid>
                            <!-- optimisation duration and optimise button -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="60"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="auto"/>
                                </Grid.RowDefinitions>
                                <TextBlock Grid.ColumnSpan="6" Grid.Row="0" Grid.Column="0" Text="Optimisation duration in seconds"/>
                                <TextBox Text="{Binding OptimizationSuspension.OptimisationDuration}" Grid.Row="1" Grid.Column="0"  Style="{StaticResource NormalTextBoxStyle}"/>
                                <Button IsEnabled="{Binding CanPressOptimizeButton}" Grid.Row="1" Grid.Column=" 4" Command="{Binding OptimiseCommand}" Content="Optimise"/>
                            </Grid>
                            <TextBlock Margin="0,7,0,5" Text="Location of python files (all must be in one folder)"/>
                            <TextBox BorderBrush="Black" BorderThickness="1" Text="{Binding PythonFilesPath}" Width="400"/>
                            <TextBlock Text="Location of python environment"/>
                            <TextBox BorderBrush="Black" BorderThickness="1" Margin="0,5,0,5" Text="{Binding PythonEnvironmentPath}" Width="400"/>
                        </StackPanel>

                    </Grid>
                </ScrollViewer>
                <!-- Current suspension parameters and visualization -->
                <Grid Grid.Column="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MaxWidth="350" MinWidth="10"/>
                        <ColumnDefinition MinWidth="500"/>
                    </Grid.ColumnDefinitions>
                    <!-- Current suspension parameters -->
                    <ScrollViewer Grid.Column="0" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Visible">
                        <StackPanel Margin="5,0,5,0" x:Name="CurrSuspDataContext" DataContext="{StaticResource CurrentSuspensionVM}" Width="300">
                            <!-- Suspension hardpoints -->
                            <DataGrid Grid.Column="0" ItemsSource="{Binding CurrentSuspension.Hardpoints}" 
                                    AutoGenerateColumns="False"
                                    CanUserAddRows="False"
                                    CanUserReorderColumns="False"
                                    ColumnWidth="*"
                                    CanUserResizeRows="False"
                                    CanUserResizeColumns="False"
                                    CanUserSortColumns="False">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="X" Binding="{Binding XVal}"/>
                                    <DataGridTextColumn Header="Y" Binding="{Binding YVal}"/>
                                    <DataGridTextColumn Header="Z" Binding="{Binding ZVal}"/>
                                </DataGrid.Columns>
                                <DataGrid.RowHeaderTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding DataContext.HardpointNameClass, 
                            RelativeSource={RelativeSource AncestorType=DataGridRow}}"></TextBlock>
                                    </DataTemplate>
                                </DataGrid.RowHeaderTemplate>
                            </DataGrid>
                            <!-- suspension parameters -->
                            <StackPanel Grid.Column="1">
                                <!-- Suspension position -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4" Text="Suspension position"/>
                                    <RadioButton GroupName="CurrentSuspPosition" Content="Front" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                                IsChecked="{Binding CurrentSuspension.SuspensionPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=0}"/>
                                    <RadioButton GroupName="CurrentSuspPosition" Content="Rear" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2"
                                                IsChecked="{Binding CurrentSuspension.SuspensionPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=1}"/>

                                </Grid>
                                <!-- Wheel radius, wheel inside radius -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Wheel Radius"/>
                                    <TextBlock Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" Text="Wheel Width"/>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.WheelRadius}" Grid.Row="1" Grid.Column="0"/>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.WheelWidth}" Grid.Row="1" Grid.Column="1"/>
                                </Grid>
                                <!-- Wheel radius, wheel inside radius -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3" Text="Wheel Inside Radius"/>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.WheelInsideRadius}" Grid.Row="1" Grid.Column="0"/>
                                </Grid>
                                <!-- wheelbase and CoG height -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Wheelbase"/>
                                    <TextBlock Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" Text="CoG height"/>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.Wheelbase}" Grid.Row="1" Grid.Column="0"/>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.CoGHeight}" Grid.Row="1" Grid.Column="1"/>
                                </Grid>
                                <!-- Front and rear drive bias -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Front drive bias"/>
                                    <TextBlock Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" Text="Rear drive bias"/>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.FrontDriveBias}" Grid.Row="1" Grid.Column="0"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" Text="{Binding CurrentSuspension.RearDriveBias}" Grid.Row="1" Grid.Column="1"/>



                                </Grid>
                                <!-- drive position -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Drive position"/>
                                    <RadioButton GroupName="CurrentSuspDrivePosition" Content="Inboard" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                                IsChecked="{Binding CurrentSuspension.DrivePos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=1}"/>

                                    <RadioButton GroupName="CurrentSuspDrivePosition" Content="Outboard" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2"
                                                IsChecked="{Binding CurrentSuspension.DrivePos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=0}"/>


                                </Grid>
                                <!-- Front and rear brake bias -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Front brake bias"/>
                                    <TextBlock Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" Text="Rear brake bias"/>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.FrontBrakeBias}" Grid.Row="1" Grid.Column="0"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" Text="{Binding CurrentSuspension.RearBrakeBias}" Grid.Row="1" Grid.Column="1"/>
                                </Grid>
                                <!-- brakes position -->
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Brakes position"/>
                                    <RadioButton GroupName="CurrentSuspBrakesPosition" Content="Inboard" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                                IsChecked="{Binding CurrentSuspension.BrakesPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=1}"/>
                                    <RadioButton GroupName="CurrentSuspBrakesPosition" Content="Outboard" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2"
                                                IsChecked="{Binding CurrentSuspension.BrakesPos, Converter={StaticResource ResourceKey=IntBoolConverter}, ConverterParameter=0}"/>
                                </Grid>
                                <!-- Vertical movement from reference position (mm) -->
                                <TextBlock Margin="15,5,0,5" TextWrapping="Wrap" Text="Vertical movement from reference position, positive value is down w.r.t. chassis and vice versa."/>
                                <Grid Margin="15,0,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBox Style="{StaticResource NormalTextBoxStyle}" Text="{Binding CurrentSuspension.VerticalMovement}" Grid.Row="0" Grid.Column="0"/>
                                    <Button Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="1"
                                        Content="Update" Click="Button_Click"
                                        />

                                </Grid>
                            </StackPanel>
                            <!-- Suspension hardpoints and parameters -->

                            <!-- Suspension parameters output -->
                        </StackPanel>
                    </ScrollViewer>

                    <!-- Current suspension visualization and characteristics -->
                    <Grid Grid.Column="1" DataContext="{StaticResource CurrentSuspensionVM}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <!-- Suspension characteristics -->
                        <StackPanel Margin="15,5,15,15" Grid.Row="0" >
                            <WrapPanel Orientation="Horizontal" Width="450" HorizontalAlignment="Left">
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Camber angle"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                         Text="{Binding CurrentSuspension.SuspensionCharacteristics[0].Value, StringFormat={}{0:#,0.00}}"
                                         Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Toe angle"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[1].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Caster angle"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[2].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="RC Height"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[3].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Caster Trail"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[4].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Scrub radius"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[5].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Kingpin Angle"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[6].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Anti Drive"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[7].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Anti Brake"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[8].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Half track Change"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[9].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                                <Grid Width="110">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Text="Wheelbase Change"/>
                                    <TextBox Style="{StaticResource ReadOnlyTextBoxStyle}" 
                                        Text="{Binding CurrentSuspension.SuspensionCharacteristics[10].Value, StringFormat={}{0:#,0.00}}" 
                                             Grid.Row="1"/>
                                </Grid>
                            </WrapPanel>
                            
                            
                        </StackPanel>

                        <!-- Suspension visualization -->
                        <Border Grid.Row="1" BorderBrush="Black" BorderThickness="2" Background="DimGray">
                            <Viewport3D x:Name="mainViewport">

                            </Viewport3D>

                        </Border>
                    </Grid>
                    <GridSplitter Grid.Column="1"
                              HorizontalAlignment="Left"
                              Background="Gray"
                              Width="6"/>
                </Grid>
                <GridSplitter Grid.Column="1"
                              HorizontalAlignment="Left"
                              Background="Gray"
                              Width="6"/>
            </Grid>
        </Border>
        <Label Grid.Row="1" Content="bla" Background="LightGray"/>

    </Grid>
</Window>
